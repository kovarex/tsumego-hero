; AssetCompress configuration for Tsumego Hero
;
; This configures CSS and JS minification/compression
; for production performance optimization.

[General]
; Production settings (override with asset_compress.local.ini for development)
cacheConfig = true
; Production: Serve pre-built static files (fastest)
; Development/CI: Override to true in asset_compress.local.ini
alwaysEnableController = false
; Enable gzip compression for smaller file sizes
gzip = true

; ===== CSS Configuration =====
[css]
; Where to find CSS source files
paths[] = WEBROOT/css/*
; Where to output built/minified CSS
cachePath = WEBROOT/cache_css
; Enable timestamps for automatic cache busting after deployments
; URLs become: /cache_css/app.css?mtime=1733334567
timestamp = true
; Minify CSS
filters[] = SimpleCssMin

; Main app CSS (common to all pages)
[app.css]
files[] = default.css

; Theme-specific CSS (loaded conditionally)
[dark-theme.css]
files[] = dark-constants.css
files[] = dark.css

[light-theme.css]
files[] = light-constants.css

[home.css]
files[] = home-themes.css

; ===== JavaScript Configuration =====
[js]
; Where to find JS source files
paths[] = WEBROOT/js/*
paths[] = WEBROOT/dist/*
paths[] = WEBROOT/*.js
; Where to output built/minified JS
cachePath = WEBROOT/cache_js
; Enable timestamps for automatic cache busting after deployments
; URLs become: /cache_js/app.js?mtime=1733334567
timestamp = true
; Minify JavaScript with JShrink
filters[] = JShrinkFilter
; Generate source maps for debugging minified code
sourceMap = true

; Core app JavaScript - used on most pages (combined for HTTP/1.1 optimization)
[app.js]
files[] = util.js
files[] = dark.js

; Page-specific JS modules - loaded only when needed (prevent conflicts)
[play.js]
files[] = previewBoard.js
files[] = TagConnectionsEdit.js
files[] = FileSaver.min.js

[multiple-choice.js]
files[] = multipleChoice.js
files[] = multipleChoiceCustom.js

[preview.js]
files[] = previewBoard.js

[score-estimating.js]
files[] = scoreEstimatingCustom.js
