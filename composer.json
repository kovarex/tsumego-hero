{
	"name": "cakephp/app",
	"description": "tsumego hero",
	"type": "library",
    "keywords": ["cakephp", "app"],
    "license": "proprietary",
    "require": {
		"php": ">=8.4",
		"firebase/php-jwt": "^6.11.1",
		"markstory/asset_compress": "^0.26.0",
		"pieceofcake2/cakephp": "^2.12",
		"robmorgan/phinx": "^0.16.10",
		"tedivm/jshrink": "^1.8"
	},
    "require-dev": {
		"php-webdriver/webdriver": "^1.15",
		"friendsofphp/php-cs-fixer": "^3.89",
		"phpstan/phpstan": "^2.1",
		"phpunit/php-code-coverage": "^9.2",
		"phpunit/phpcov": "^8.2",
		"phpunit/phpunit": "^9.6",
		"pieceofcake2/bake": "^1.0",
		"pieceofcake2/debug_kit": "^2.2",
		"pieceofcake2/phpstan-cakephp2": "^0.2.1"
	},
    "autoload": {
        "classmap": ["src/"]
    },
	"scripts": {
		"post-install-cmd": "@install-hooks",
		"post-update-cmd": "@install-hooks",
		"install-hooks": [
			"@php -r \"if (!file_exists('.git/hooks')) { mkdir('.git/hooks', 0755, true); }\"",
			"@php -r \"$content = file_get_contents('.githooks/pre-commit'); $content = str_replace(\\\"\\r\\n\\\", \\\"\\n\\\", $content); file_put_contents('.git/hooks/pre-commit', $content);\"",
			"@php -r \"chmod('.git/hooks/pre-commit', 0755);\"",
			"echo 'Git hooks installed successfully!'"
		],
		"setup": "bin/cake generate code_completion && bin/cake generate phpstorm",
		"annotate": "bin/cake annotate all -r && bin/cake annotate all -r -p Sandbox && bin/cake annotate all -r -p AuthSandbox && bin/cake annotate all -r -p StateMachineSandbox",
		"test": "phpunit",
		"test-coverage": "phpunit --log-junit webroot/coverage/unitreport.xml --coverage-html webroot/coverage --coverage-clover webroot/coverage/coverage.xml",
		"cs-modified": "sh cs-modified.sh",
		"cs-check": "./vendor/bin/php-cs-fixer check",
		"cs-fix": "./vendor/bin/php-cs-fixer fix",
		"stan": "phpstan analyse",
		"migrate": "vendor/bin/phinx migrate",
		"migrate-test": "vendor/bin/phinx migrate -e test",
		"migrate-status": "vendor/bin/phinx status",
		"migrate-rollback": "vendor/bin/phinx rollback",
		"images:webp": "bash scripts/convert-to-webp.sh"
	},
    "config": {
        "sort-packages": true,
        "allow-plugins": {
            "composer/installers": true,
            "dealerdirect/phpcodesniffer-composer-installer": true
        }
    },
    "extra": {
        "installer-paths": {
            "plugins/{$name}/": ["type:cakephp-plugin"]
        }
    }
}
